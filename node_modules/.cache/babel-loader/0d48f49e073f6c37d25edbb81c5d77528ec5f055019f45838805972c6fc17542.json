{"ast":null,"code":"import _slicedToArray from\"C:/Users/PCFIX/Desktop/projects/project6/pr6/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import P1 from'../images/n2.jpg';import{Link,useNavigate,useLocation}from\"react-router-dom\";import{FirebaseConfig}from\"./FirebaseConfig\";import{initializeApp}from\"firebase/app\";import{getAuth,signInWithEmailAndPassword,createUserWithEmailAndPassword}from\"firebase/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){initializeApp(FirebaseConfig);var navigate=useNavigate();var location=useLocation();var page=location.pathname==='/login'?true:false;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setpassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isuserexist=_useState6[0],setuserexist=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isEmailUsed=_useState8[0],setIsEmailUsed=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),emailvalid=_useState10[0],setemailvalid=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),passwordvalid=_useState12[0],setpasswordvalid=_useState12[1];var auth=getAuth();var validation=function validation(fieldName,value){switch(fieldName){case\"email\":return value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);case\"password\":return value.length>=6;default:break;}};var ctaClickHandler=function ctaClickHandler(e){e.preventDefault();if(!validation(\"email\",email)||!validation(\"password\",password)){setemailvalid(validation(\"email\",email));setpasswordvalid(validation(\"password\",password));return;}if(page){signInWithEmailAndPassword(auth,email,password).then(function(auth){if(auth){navigate(\"/dashboard\");}}).catch(function(error){return setuserexist(true);});/* user not found */}else{createUserWithEmailAndPassword(auth,email,password).then(function(auth){if(auth){navigate(\"/dashboard\");}}).catch(function(error){return setIsEmailUsed(true);});}};useEffect(function(){setIsEmailUsed(false);setuserexist(false);},[location]);var emailonchange=function emailonchange(e){setEmail(e.target.value);};var passwordonchange=function passwordonchange(e){setpassword(e.target.value);};return/*#__PURE__*/_jsx(\"div\",{style:{backgroundImage:\"URL(\".concat(P1,\")\")},className:\" h-screen \",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"pr-8 md:p-2 shadow-rose-700 shadow-lg justify-center md:w-96 h-1/2 mx-auto bg-black mt-16 flex flex-col  w-full md:py-8 pt-8  rounded-lg \",children:[/*#__PURE__*/_jsx(\"p\",{class:\"leading-relaxed mb-5 text-white text-3xl px-3\",children:page?\"Sign-In\":\"Register Now\"}),/*#__PURE__*/_jsx(\"div\",{class:\"relative mb-4\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"relative mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,onChange:emailonchange,name:\"email\",placeholder:\"Email\",class:\"w-full md:w-72 ml-3  bg-transparent rounded border border-red-300 focus:border-rose-950 focus:ring-2 focus:ring-red-200 text-base outline-none text-white py-1  leading-8 transition-colors duration-200 ease-in-out placeholder-white\"}),!emailvalid&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-700 ml-3 font-bold\",children:\"Email Is Invalid\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"relative mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,onChange:passwordonchange,name:\"password\",placeholder:\"password\",class:\"w-full md:w-72 ml-3  bg-transparent rounded border border-red-300 focus:border-rose-950 focus:ring-2 focus:ring-red-200 text-base outline-none text-white py-1  leading-8 transition-colors duration-200 ease-in-out placeholder-white\"}),!passwordvalid&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-700 ml-3 font-bold\",children:\"Password Is Invalid\"})]}),/*#__PURE__*/_jsx(\"button\",{class:\"text-white bg-rose-700 shadow-lg shadow-rose-900 border-0 py-2 px-1 focus:outline-none hover:bg-transparent rounded text-lg md:w-40 ml-3\",onClick:ctaClickHandler,children:page?\"Log-In\":\"Register Now\"}),isuserexist&&/*#__PURE__*/_jsx(\"p\",{className:\"text-rose-700 font-extrabold ml-3 pt-3\",children:\"User doesnt exist\"}),isEmailUsed&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-rose-700 font-extrabold   ml-3 pt-3\",children:[\"Email Already In Used.\",/*#__PURE__*/_jsx(\"br\",{}),\" Go to Sign-In\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-base text-white ml-3 pt-6\",children:[page?\"new to tetflix?    \":\"Existing User?    \",/*#__PURE__*/_jsx(Link,{to:page?\"/register\":\"/login\",href:\"#\",className:\" text-base text-rose-400 font-bold\",children:page?\"Sing-up Now\":\"Log-in Now\"})]})]})})});};export default Login;","map":{"version":3,"names":["React","useEffect","useState","P1","Link","useNavigate","useLocation","FirebaseConfig","initializeApp","getAuth","signInWithEmailAndPassword","createUserWithEmailAndPassword","jsx","_jsx","jsxs","_jsxs","Login","navigate","location","page","pathname","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setpassword","_useState5","_useState6","isuserexist","setuserexist","_useState7","_useState8","isEmailUsed","setIsEmailUsed","_useState9","_useState10","emailvalid","setemailvalid","_useState11","_useState12","passwordvalid","setpasswordvalid","auth","validation","fieldName","value","match","length","ctaClickHandler","e","preventDefault","then","catch","error","emailonchange","target","passwordonchange","style","backgroundImage","concat","className","children","class","type","id","onChange","name","placeholder","onClick","to","href"],"sources":["C:/Users/PCFIX/Desktop/projects/project6/pr6/src/Components/Login.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport P1 from '../images/n2.jpg';\r\nimport {Link, useNavigate,useLocation } from \"react-router-dom\";\r\nimport { FirebaseConfig } from \"./FirebaseConfig\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport {getAuth,signInWithEmailAndPassword,createUserWithEmailAndPassword } from \"firebase/auth\";\r\n\r\nconst Login = () => {\r\n  initializeApp(FirebaseConfig);\r\n  const navigate =useNavigate();\r\n  const location = useLocation();\r\n  const page =location.pathname==='/login' ? true:false;\r\n  const [email,setEmail]=useState('');\r\n  const [password,setpassword]=useState('');\r\n  const [isuserexist,setuserexist]=useState(false);\r\n  const [isEmailUsed,setIsEmailUsed]=useState(false);\r\n  const [emailvalid, setemailvalid] = useState(true);\r\n  const [passwordvalid, setpasswordvalid] = useState(true);\r\n  const auth= getAuth();\r\n   const validation = (fieldName, value) => {\r\n     switch (fieldName) {\r\n       case \"email\":\r\n         return value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n       case \"password\":\r\n         return value.length >= 6;\r\n       default:\r\n         break;\r\n     }\r\n   };\r\n\r\n\r\n\r\n  const ctaClickHandler\r\n    = (e) => {\r\n    e.preventDefault();\r\n\r\nif (!validation(\"email\", email) || !validation(\"password\", password)) {\r\n  setemailvalid(validation(\"email\", email));\r\n  setpasswordvalid(validation(\"password\", password));\r\n  return;\r\n}\r\n\r\n    if (page) {\r\n      signInWithEmailAndPassword(auth, email, password)\r\n        .then((auth) => {\r\n          if (auth) {\r\n            navigate(\"/dashboard\");\r\n          }\r\n        })\r\n        .catch((error) => setuserexist(true));\r\n      /* user not found */\r\n    }else{\r\n      createUserWithEmailAndPassword(auth, email, password)\r\n        .then((auth) => {\r\n          if (auth) {\r\n            navigate(\"/dashboard\");\r\n          }\r\n        })\r\n        .catch((error) => setIsEmailUsed(true));\r\n    }\r\n    \r\n  };\r\nuseEffect(()=>{\r\nsetIsEmailUsed(false);\r\nsetuserexist(false);\r\n},[location])\r\n  const emailonchange=(e)=>{\r\nsetEmail(e.target.value)\r\n  }\r\n  const passwordonchange = (e) => {\r\n     setpassword(e.target.value);\r\n  };\r\n   \r\n    return (\r\n      <div\r\n        style={{\r\n          backgroundImage: `URL(${P1})`,\r\n        }}\r\n        className=\" h-screen \"\r\n\r\n      >\r\n        <div className='flex'>\r\n          <div class=\"pr-8 md:p-2 shadow-rose-700 shadow-lg justify-center md:w-96 h-1/2 mx-auto bg-black mt-16 flex flex-col  w-full md:py-8 pt-8  rounded-lg \">\r\n            <p class=\"leading-relaxed mb-5 text-white text-3xl px-3\">\r\n              {page ? \"Sign-In\" : \"Register Now\"}\r\n            </p>\r\n            <div class=\"relative mb-4\"></div>\r\n            <div class=\"relative mb-4\">\r\n              <input\r\n                type=\"email\"\r\n                id=\"email\"\r\n                value={email}\r\n                onChange={emailonchange}\r\n                name=\"email\"\r\n                placeholder=\"Email\"\r\n                class=\"w-full md:w-72 ml-3  bg-transparent rounded border border-red-300 focus:border-rose-950 focus:ring-2 focus:ring-red-200 text-base outline-none text-white py-1  leading-8 transition-colors duration-200 ease-in-out placeholder-white\"\r\n              />\r\n             {!emailvalid && <p className=\"text-red-700 ml-3 font-bold\">Email Is Invalid</p>}\r\n            </div>\r\n            <div class=\"relative mb-4\">\r\n              <input\r\n                type=\"password\"\r\n                id=\"password\"\r\n                value={password}\r\n                onChange={passwordonchange}\r\n                name=\"password\"\r\n                placeholder=\"password\"\r\n                class=\"w-full md:w-72 ml-3  bg-transparent rounded border border-red-300 focus:border-rose-950 focus:ring-2 focus:ring-red-200 text-base outline-none text-white py-1  leading-8 transition-colors duration-200 ease-in-out placeholder-white\"\r\n              />\r\n            {!passwordvalid &&  <p className=\"text-red-700 ml-3 font-bold\">Password Is Invalid</p>}\r\n            </div>\r\n            <button\r\n              class=\"text-white bg-rose-700 shadow-lg shadow-rose-900 border-0 py-2 px-1 focus:outline-none hover:bg-transparent rounded text-lg md:w-40 ml-3\"\r\n              onClick={ctaClickHandler}\r\n            >\r\n              {page ? \"Log-In\" : \"Register Now\"}\r\n            </button>\r\n         {/*    {page && (\r\n              <div className=\"form-check ml-3 pt-3\">\r\n                <input\r\n                  className=\"form-check-input\"\r\n                  type=\"checkbox\"\r\n                  value=\"\"\r\n                  id=\"flexCheckDefault\"\r\n                />\r\n                <label\r\n                  className=\"form-check-label text-white\"\r\n                  htmlFor=\"flexCheckDefault\"\r\n                >\r\n                  Remember Me\r\n                </label>\r\n              </div>  \r\n                \r\n            )} */}\r\n            {isuserexist && (\r\n              <p className=\"text-rose-700 font-extrabold ml-3 pt-3\">\r\n                User doesnt exist\r\n              </p>\r\n            )}\r\n            {isEmailUsed && (\r\n              <p className=\"text-rose-700 font-extrabold   ml-3 pt-3\">\r\n                Email Already In Used.\r\n                <br /> Go to Sign-In\r\n              </p>\r\n            )}\r\n            <p className=\"text-base text-white ml-3 pt-6\">\r\n              {page ? \"new to tetflix?    \" : \"Existing User?    \"}\r\n              <Link\r\n                to={page ? \"/register\" : \"/login\"}\r\n                href=\"#\"\r\n                className=\" text-base text-rose-400 font-bold\"\r\n              >\r\n                {page ? \"Sing-up Now\" : \"Log-in Now\"}\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default Login;"],"mappings":"kIAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CACjC,OAAQC,IAAI,CAAEC,WAAW,CAACC,WAAW,KAAQ,kBAAkB,CAC/D,OAASC,cAAc,KAAQ,kBAAkB,CACjD,OAASC,aAAa,KAAQ,cAAc,CAC5C,OAAQC,OAAO,CAACC,0BAA0B,CAACC,8BAA8B,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjG,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAClBR,aAAa,CAACD,cAAc,CAAC,CAC7B,GAAM,CAAAU,QAAQ,CAAEZ,WAAW,CAAC,CAAC,CAC7B,GAAM,CAAAa,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAa,IAAI,CAAED,QAAQ,CAACE,QAAQ,GAAG,QAAQ,CAAG,IAAI,CAAC,KAAK,CACrD,IAAAC,SAAA,CAAuBnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA5BG,KAAK,CAAAF,UAAA,IAACG,QAAQ,CAAAH,UAAA,IACrB,IAAAI,UAAA,CAA6BxB,QAAQ,CAAC,EAAE,CAAC,CAAAyB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAlCE,QAAQ,CAAAD,UAAA,IAACE,WAAW,CAAAF,UAAA,IAC3B,IAAAG,UAAA,CAAiC5B,QAAQ,CAAC,KAAK,CAAC,CAAA6B,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAzCE,WAAW,CAAAD,UAAA,IAACE,YAAY,CAAAF,UAAA,IAC/B,IAAAG,UAAA,CAAmChC,QAAQ,CAAC,KAAK,CAAC,CAAAiC,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAACE,cAAc,CAAAF,UAAA,IACjC,IAAAG,UAAA,CAAoCpC,QAAQ,CAAC,IAAI,CAAC,CAAAqC,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAA3CE,UAAU,CAAAD,WAAA,IAAEE,aAAa,CAAAF,WAAA,IAChC,IAAAG,WAAA,CAA0CxC,QAAQ,CAAC,IAAI,CAAC,CAAAyC,WAAA,CAAApB,cAAA,CAAAmB,WAAA,IAAjDE,aAAa,CAAAD,WAAA,IAAEE,gBAAgB,CAAAF,WAAA,IACtC,GAAM,CAAAG,IAAI,CAAErC,OAAO,CAAC,CAAC,CACpB,GAAM,CAAAsC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,SAAS,CAAEC,KAAK,CAAK,CACvC,OAAQD,SAAS,EACf,IAAK,OAAO,CACV,MAAO,CAAAC,KAAK,CAACC,KAAK,CAAC,sCAAsC,CAAC,CAC5D,IAAK,UAAU,CACb,MAAO,CAAAD,KAAK,CAACE,MAAM,EAAI,CAAC,CAC1B,QACE,MACJ,CACF,CAAC,CAIF,GAAM,CAAAC,eAAe,CACjB,QADE,CAAAA,eAAeA,CAChBC,CAAC,CAAK,CACTA,CAAC,CAACC,cAAc,CAAC,CAAC,CAEtB,GAAI,CAACP,UAAU,CAAC,OAAO,CAAEvB,KAAK,CAAC,EAAI,CAACuB,UAAU,CAAC,UAAU,CAAEnB,QAAQ,CAAC,CAAE,CACpEa,aAAa,CAACM,UAAU,CAAC,OAAO,CAAEvB,KAAK,CAAC,CAAC,CACzCqB,gBAAgB,CAACE,UAAU,CAAC,UAAU,CAAEnB,QAAQ,CAAC,CAAC,CAClD,OACF,CAEI,GAAIT,IAAI,CAAE,CACRT,0BAA0B,CAACoC,IAAI,CAAEtB,KAAK,CAAEI,QAAQ,CAAC,CAC9C2B,IAAI,CAAC,SAACT,IAAI,CAAK,CACd,GAAIA,IAAI,CAAE,CACR7B,QAAQ,CAAC,YAAY,CAAC,CACxB,CACF,CAAC,CAAC,CACDuC,KAAK,CAAC,SAACC,KAAK,QAAK,CAAAxB,YAAY,CAAC,IAAI,CAAC,GAAC,CACvC,oBACF,CAAC,IAAI,CACHtB,8BAA8B,CAACmC,IAAI,CAAEtB,KAAK,CAAEI,QAAQ,CAAC,CAClD2B,IAAI,CAAC,SAACT,IAAI,CAAK,CACd,GAAIA,IAAI,CAAE,CACR7B,QAAQ,CAAC,YAAY,CAAC,CACxB,CACF,CAAC,CAAC,CACDuC,KAAK,CAAC,SAACC,KAAK,QAAK,CAAApB,cAAc,CAAC,IAAI,CAAC,GAAC,CAC3C,CAEF,CAAC,CACHpC,SAAS,CAAC,UAAI,CACdoC,cAAc,CAAC,KAAK,CAAC,CACrBJ,YAAY,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CAACf,QAAQ,CAAC,CAAC,CACX,GAAM,CAAAwC,aAAa,CAAC,QAAd,CAAAA,aAAaA,CAAEL,CAAC,CAAG,CAC3B5B,QAAQ,CAAC4B,CAAC,CAACM,MAAM,CAACV,KAAK,CAAC,CACtB,CAAC,CACD,GAAM,CAAAW,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIP,CAAC,CAAK,CAC7BxB,WAAW,CAACwB,CAAC,CAACM,MAAM,CAACV,KAAK,CAAC,CAC9B,CAAC,CAEC,mBACEpC,IAAA,QACEgD,KAAK,CAAE,CACLC,eAAe,QAAAC,MAAA,CAAS5D,EAAE,KAC5B,CAAE,CACF6D,SAAS,CAAC,YAAY,CAAAC,QAAA,cAGtBpD,IAAA,QAAKmD,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBlD,KAAA,QAAKmD,KAAK,CAAC,2IAA2I,CAAAD,QAAA,eACpJpD,IAAA,MAAGqD,KAAK,CAAC,+CAA+C,CAAAD,QAAA,CACrD9C,IAAI,CAAG,SAAS,CAAG,cAAc,CACjC,CAAC,cACJN,IAAA,QAAKqD,KAAK,CAAC,eAAe,CAAM,CAAC,cACjCnD,KAAA,QAAKmD,KAAK,CAAC,eAAe,CAAAD,QAAA,eACxBpD,IAAA,UACEsD,IAAI,CAAC,OAAO,CACZC,EAAE,CAAC,OAAO,CACVnB,KAAK,CAAEzB,KAAM,CACb6C,QAAQ,CAAEX,aAAc,CACxBY,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,OAAO,CACnBL,KAAK,CAAC,wOAAwO,CAC/O,CAAC,CACF,CAAC1B,UAAU,eAAI3B,IAAA,MAAGmD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,kBAAgB,CAAG,CAAC,EAC3E,CAAC,cACNlD,KAAA,QAAKmD,KAAK,CAAC,eAAe,CAAAD,QAAA,eACxBpD,IAAA,UACEsD,IAAI,CAAC,UAAU,CACfC,EAAE,CAAC,UAAU,CACbnB,KAAK,CAAErB,QAAS,CAChByC,QAAQ,CAAET,gBAAiB,CAC3BU,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,UAAU,CACtBL,KAAK,CAAC,wOAAwO,CAC/O,CAAC,CACH,CAACtB,aAAa,eAAK/B,IAAA,MAAGmD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,qBAAmB,CAAG,CAAC,EACjF,CAAC,cACNpD,IAAA,WACEqD,KAAK,CAAC,0IAA0I,CAChJM,OAAO,CAAEpB,eAAgB,CAAAa,QAAA,CAExB9C,IAAI,CAAG,QAAQ,CAAG,cAAc,CAC3B,CAAC,CAkBRa,WAAW,eACVnB,IAAA,MAAGmD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,mBAEtD,CAAG,CACJ,CACA7B,WAAW,eACVrB,KAAA,MAAGiD,SAAS,CAAC,0CAA0C,CAAAC,QAAA,EAAC,wBAEtD,cAAApD,IAAA,QAAK,CAAC,iBACR,EAAG,CACJ,cACDE,KAAA,MAAGiD,SAAS,CAAC,gCAAgC,CAAAC,QAAA,EAC1C9C,IAAI,CAAG,qBAAqB,CAAG,oBAAoB,cACpDN,IAAA,CAACT,IAAI,EACHqE,EAAE,CAAEtD,IAAI,CAAG,WAAW,CAAG,QAAS,CAClCuD,IAAI,CAAC,GAAG,CACRV,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAE7C9C,IAAI,CAAG,aAAa,CAAG,YAAY,CAChC,CAAC,EACN,CAAC,EACD,CAAC,CACH,CAAC,CACH,CAAC,CAEZ,CAAC,CAED,cAAe,CAAAH,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}